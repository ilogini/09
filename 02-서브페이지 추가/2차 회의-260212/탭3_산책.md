# 산책 화면 (Tab 3 - 중앙 플로팅 버튼) - 멍이랑 (withbowwow)

> 앱의 존재 이유. 산책을 시작하고, 기록하고, 완료하는 전체 경험.
> 하단 탭 바 중앙에 돌출된 플로팅 버튼으로 진입하며,
> 산책 중에는 전체화면 오버레이로 전환된다.

---

## 1. 페이지 개요

### 1.1 목적

산책 화면은 멍이랑 앱의 **핵심 경험(Core Experience)**이다. 앱의 모든 다른 기능(뱃지, 랭킹, 소셜)은 이 화면에서 생성되는 산책 데이터 위에 구축된다. 사용자는 이 화면을 통해 (1) 산책을 준비하고, (2) 실시간으로 GPS 경로, 거리, 시간을 트래킹하며, (3) 산책을 완료하고 결과를 확인/공유한다. Nike Run Club의 달리기 화면처럼 직관적이면서도, 반려동물 산책의 특수성(멀티펫, 사진 촬영, 중간 휴식 등)을 반영해야 한다.

### 1.2 핵심 사용자 니즈

| 니즈 | 설명 | 우선순위 |
|------|------|---------|
| 빠른 산책 시작 | 최소 탭으로 트래킹 시작 | 최상위 |
| 실시간 기록 확인 | 거리, 시간, 경로를 산책 중 확인 | 최상위 |
| 백그라운드 작동 | 화면을 꺼도 GPS 기록 지속 | 최상위 |
| 산책 중 사진 촬영 | 반려동물 사진을 경로 위에 기록 | 상위 |
| 완료 후 성취감 | 산책 결과 요약 + 획득 뱃지 확인 | 상위 |
| 결과 공유 | 카카오톡, 인스타그램 등에 공유 | 중위 |

### 1.3 진입 경로

| 경로 | 빈도 | 컨텍스트 |
|------|------|---------|
| 하단 탭 바 중앙 플로팅 버튼 | 최고 | 어느 화면에서든 접근 가능 |
| 홈 → 산책 시작 버튼 | 높음 | 홈 화면의 메인 CTA |
| 위젯 → 산책 시작 | 중간 | iOS/Android 홈 화면 위젯 |
| 푸시 알림 → 산책 리마인더 | 중간 | 산책 시간 알림 딥링크 |
| 소셜 → 산책 초대 수락 | 낮음 | 함께 산책 시작 |

---

## 2. 화면 구성

산책 화면은 3개의 **연속적 단계(phase)**로 구성된다:

```
[Phase 1: 산책 준비] → [Phase 2: 산책 중] → [Phase 3: 산책 완료]
```

---

### Phase 1: 산책 준비 화면 (Walk Preparation)

#### 콘텐츠 구성

| 요소 | 상세 |
|------|------|
| 화면 형태 | 바텀시트 (Bottom Sheet) 또는 전체화면 |
| 반려동물 선택 | 수평 스크롤로 반려동물 프로필 카드 표시, 탭으로 선택/해제 |
| 날씨 정보 카드 | 현재 기온 + 체감온도 + 미세먼지 + 산책 적합도 |
| 산책 목표 설정 (선택) | 거리 목표 (예: 3km) 또는 시간 목표 (예: 30분) |
| 산책 시작 버튼 | 대형 CTA 버튼 "산책 시작!" |
| 최근 산책 코스 | "지난번 코스로 가기" (이전 경로 표시) |

#### 반려동물 선택 영역

```
함께 산책할 반려동물을 선택하세요

┌─────────┐  ┌─────────┐  ┌─────────┐
│  [🐕📷] │  │  [🐱📷] │  │  [🐕📷] │
│   초코   │  │   나비   │  │   몽이   │
│  ✅ 선택  │  │  ○ 선택  │  │  ○ 선택  │
│ 골든리트  │  │  코숏    │  │  시바이누 │
└─────────┘  └─────────┘  └─────────┘
```

#### 이 콘텐츠가 있는 이유

> 산책 준비 화면은 산책 시작 직전의 **마지막 확인 단계**다.
>
> - **사용자 행동 심리학**: Implementation Intention(실행 의도)에 따르면 "언제, 어디서, 무엇을" 구체적으로 계획하면 실행 확률이 2-3배 높아진다. 반려동물 선택 + 날씨 확인 + 목표 설정이라는 3단계 준비 과정이 "지금 산책을 시작한다"는 의도를 명확하게 만든다. 그러나 과도한 설정은 오히려 장벽이 되므로, 반려동물은 마지막 선택이 기본값으로 유지되고 목표 설정은 선택 사항이다.
> - **비즈니스 목표**: 멀티펫 사용자(반려동물 2마리 이상)의 경우, 어떤 반려동물과 산책하는지에 따라 개별 통계가 기록되어야 한다. 이는 펫별 산책 리포트(프리미엄 기능)의 기반 데이터가 된다.
> - **벤치마킹**: Nike Run Club은 달리기 시작 전 "목표 설정" 옵션(거리/시간/속도)을 제공하되, 설정 없이도 바로 시작 가능하다. Apple Watch의 "Outdoor Walk" 시작 화면도 미니멀하게 핵심 정보만 보여준다.
> - **날씨 정보 재확인**: 홈 화면에서 이미 날씨를 확인했더라도, 산책 시작 직전에 한 번 더 보여주는 것은 "비 예보가 있는데 정말 나갈까?"라는 최종 판단을 돕기 위함이다. 특히 미세먼지가 "나쁨" 이상이면 경고 메시지를 강조한다.

---

### Phase 2: 산책 중 화면 (Active Walk - Full Screen Overlay)

#### 화면 전환

산책 시작 버튼을 누르면 **전체화면 오버레이**로 전환된다. 하단 탭 바가 사라지고, 산책 중 UI가 전체 화면을 차지한다. 이는 Nike Run Club, Strava 등 모든 GPS 트래킹 앱의 표준 패턴이다.

#### 콘텐츠 구성

| 요소 | 위치 | 상세 |
|------|------|------|
| 상태 바 | 최상단 | 산책 중 아이콘 (발바닥) + "산책 중" 텍스트 |
| 실시간 GPS 지도 | 상단 60% | 현재 위치 + 경로 Polyline + 시작점 마커 |
| 타이머 | 지도 하단 | "00:32:15" (경과 시간, 대형 폰트) |
| 거리 | 타이머 하단 | "2.34 km" (누적 거리, 대형 폰트) |
| 보조 정보 | 거리 하단 | 칼로리 + 반려동물 이름 + 평균 속도 |
| 카메라 버튼 | 우측 하단 플로팅 | 원형 카메라 아이콘 |
| 컨트롤 버튼 | 하단 고정 | 일시정지 / 종료 버튼 |

#### 실시간 지도 상세

| 요소 | 상세 |
|------|------|
| 지도 SDK | 네이버 지도 API 또는 카카오맵 API |
| 내 위치 마커 | Primary 컬러 원형 + 방향 표시 |
| 경로 Polyline | Primary 컬러, 너비 5px, 반투명 |
| 시작점 마커 | 초록색 핀 "출발" |
| 사진 촬영 핀 | 카메라 아이콘 핀 (촬영 위치에 자동 추가) |
| 줌 레벨 | 자동 추적 (현재 위치 중심, 줌 16) |
| 지도 조작 | 핀치 줌, 드래그 가능 (자동 추적 일시 해제) |

#### 타이머 및 거리 표시

```
┌────────────────────────────┐
│        ⏱️ 00:32:15          │  ← 경과 시간 (36pt, Bold)
│        📏 2.34 km           │  ← 누적 거리 (48pt, Bold, Primary 컬러)
│  🔥 128 kcal  🐕 초코  ⚡3.2  │  ← 칼로리, 반려동물, 평균속도(km/h)
└────────────────────────────┘
```

#### 카메라 버튼 동작

```
[카메라 버튼 탭]
  → 네이티브 카메라 실행 (expo-camera)
  → 사진 촬영
  → 현재 GPS 좌표와 함께 저장
  → 지도 위 해당 위치에 사진 핀 추가
  → 산책 트래킹은 백그라운드에서 계속 유지
```

#### 컨트롤 버튼 상세

| 버튼 | 상태 | 동작 |
|------|------|------|
| ⏸ 일시정지 | 산책 중 | 타이머 멈춤, GPS 기록 일시 중단, 지도 추적 유지 |
| ▶ 재개 | 일시정지 중 | 타이머 재개, GPS 기록 재개 |
| ■ 종료 | 항상 표시 | 종료 확인 다이얼로그 → Phase 3으로 전환 |
| 🔒 잠금 | 산책 중 | 화면 터치 비활성화 (주머니 오작동 방지) |

#### 종료 확인 다이얼로그

```
┌──────────────────────────┐
│    산책을 종료할까요?      │
│                          │
│    📏 2.34 km             │
│    ⏱️ 32분 15초            │
│                          │
│  [취소]      [종료하기]    │
│                          │
│  ⚠️ 500m 미만 산책은       │
│     기록이 저장되지 않습니다│
└──────────────────────────┘
```

#### 이 콘텐츠가 있는 이유

> 산책 중 화면은 앱의 **가장 오래 노출되는 화면**이다. 30분~1시간 동안 사용자 화면에 떠 있으므로, 정보 전달의 명확성과 배터리 효율이 모두 중요하다.
>
> - **사용자 행동 심리학**: Feedback Loop(피드백 루프)가 핵심이다. 실시간으로 거리와 시간이 증가하는 것을 보면서 "더 걸어야지"라는 동기가 유지된다. 이것은 게임의 실시간 점수판과 동일한 원리다. Variable Ratio Reinforcement의 변형으로, 예측 가능한 수치 증가(거리, 시간)가 꾸준한 만족감을 제공한다. 1km 단위 도달 시 햅틱 피드백과 알림("1km 돌파!")을 제공하면 Milestone Effect로 추가 동기부여가 된다.
> - **비즈니스 목표**: 산책 데이터의 정확성이 앱의 신뢰도를 결정한다. GPS 트래킹의 정밀도가 낮으면 사용자는 앱을 버린다. 백그라운드 트래킹이 완벽하게 작동해야 하며, 배터리 소모를 최소화해야 한다. 또한 산책 중 촬영한 사진은 소셜 피드의 콘텐츠가 되므로, 카메라 접근성이 중요하다.
> - **벤치마킹**: Nike Run Club은 거리를 화면 중앙에 초대형 폰트(72pt급)로 표시한다. Strava는 지도와 통계를 50:50으로 분할한다. Apple Watch의 Workout 화면은 "가장 중요한 1개 수치"를 크게 보여준다. 멍이랑은 지도 비중을 높여 "어디를 걸었는지"의 시각적 만족감을 우선하되, 거리/시간도 충분히 크게 표시한다.
> - **잠금 기능**: 산책 중 스마트폰을 주머니에 넣거나 팔에 고정하는 경우가 많으므로, 의도치 않은 터치로 산책이 종료/일시정지되는 것을 방지한다. Nike Run Club의 "Lock Screen" 기능 참고.

---

### Phase 3: 산책 완료 화면 (Walk Complete - Modal)

#### 화면 전환

산책 종료 확인 → 데이터 저장 중 로딩 (1~2초) → 산책 완료 모달 표시

#### 콘텐츠 구성

| 요소 | 상세 |
|------|------|
| 축하 애니메이션 | Lottie/Rive 애니메이션 (발바닥 + 별 효과, 1.5초) |
| 완료 메시지 | "산책 완료!" + 반려동물 이름 ("초코와 함께한 산책!") |
| 경로 지도 | 전체 경로가 표시된 정적 지도 캡처 (사진 핀 포함) |
| 산책 통계 | 거리, 시간, 칼로리, 평균 속도 (4칸 그리드) |
| 획득 뱃지 표시 | 이번 산책으로 새로 획득한 뱃지 (글로우 애니메이션) |
| 뱃지 진행률 업데이트 | 기존 진행 중 뱃지의 변경된 진행률 표시 |
| 사진 갤러리 | 산책 중 촬영한 사진 썸네일 (가로 스크롤) |
| 메모 입력 | "오늘 산책 한마디" (선택) |
| 저장 버튼 | "저장하기" (기본) |
| 공유 버튼 | 카카오톡 / 인스타 스토리 / 이미지 저장 |
| 광고 영역 | 네이티브 광고 카드 (하단) |

#### 산책 통계 그리드

```
┌──────────┬──────────┐
│  📏 거리   │  ⏱️ 시간  │
│  2.34 km  │  32:15   │
├──────────┼──────────┤
│  🔥 칼로리  │  ⚡ 속도  │
│  128 kcal │  4.3km/h │
└──────────┴──────────┘
```

#### 뱃지 획득 표시

```
┌──────────────────────────────┐
│  🎉 새 뱃지를 획득했어요!       │
│                              │
│  ┌──────┐                    │
│  │ 🏃✨ │  거리 뱃지: 5km 클럽 │
│  │(글로우)│  "누적 5km 달성!"   │
│  └──────┘                    │
│                              │
│  📊 뱃지 진행률 업데이트        │
│  🔥 7일 연속: ████░░ 57% (4/7)│
│  🧭 탐험가:   ██░░░░ 30% (3/10)│
└──────────────────────────────┘
```

#### 공유 카드 디자인

```
┌──────────────────────────────┐
│  🐾 멍이랑                    │  ← 앱 브랜딩
│                              │
│  [경로 맵 이미지]              │
│                              │
│  초코와 함께한 산책 🐕          │
│  📏 2.34km  ⏱️ 32분           │
│  📅 2026.02.12               │
│                              │
│  🏃 5km 클럽 뱃지 획득! ✨      │
│                              │
│  ─── withbowwow ───          │  ← 앱 다운로드 유도
└──────────────────────────────┘
```

#### 이 콘텐츠가 있는 이유

> 산책 완료 화면은 사용자가 **성취감을 느끼고 다음 산책의 동기를 얻는** 보상(reward) 단계다.
>
> - **사용자 행동 심리학**: Nir Eyal의 Hook Model에서 "Reward"는 행동 루프의 핵심이다. 산책 완료 후 (1) 축하 애니메이션 → 감정적 보상, (2) 통계 요약 → 인지적 보상, (3) 뱃지 획득 → 수집 보상의 3중 보상 구조를 설계한다. 특히 뱃지 획득 시의 글로우 애니메이션과 햅틱 피드백은 도파민 분비를 촉진하여 "다시 산책하고 싶다"는 욕구를 만든다.
> - **비즈니스 목표**: (1) 공유 기능은 바이럴 마케팅의 핵심이다. 산책 결과 카드가 카카오톡/인스타그램에 공유되면 앱 인지도가 올라가고 신규 다운로드가 발생한다. 공유 카드 하단에 앱 다운로드 링크를 포함한다. (2) 산책 완료 화면의 네이티브 광고는 사용자가 "성취감"을 느끼는 긍정적 컨텍스트에서 노출되므로 광고 효과가 높다. (3) 프리미엄 사용자에게 "상세 통계"(구간별 속도, 고도 변화 등)를 제공하여 전환 유도.
> - **벤치마킹**: Nike Run Club의 "Post-Run Summary"는 달리기 완료 후 경로맵 + 통계 + 업적을 보여주고, "Share" 버튼으로 SNS 공유를 유도한다. Apple Fitness의 운동 완료 화면은 Activity Ring 업데이트 + 획득 배지를 보여주며, 특히 뱃지 획득 시 화려한 3D 애니메이션으로 성취감을 극대화한다. Pikmin Bloom은 산책 후 꽃심기 결과와 수집한 Pikmin을 보여주는 리워드 화면이 있다.
> - **뱃지 통합의 효과**: 기존에는 산책 완료 시 "획득 배지"만 표시했지만, 통합 뱃지 시스템에서는 "진행 중 뱃지의 진행률 변화"도 함께 보여준다. "7일 연속 뱃지가 57%로 올랐다"는 정보는 내일 산책의 동기가 된다.

---

## 3. UX 설계 의도

### 3.1 정보 계층 구조

#### Phase 1 (산책 준비)

```
[1순위] 반려동물 선택 (누구와 산책?)
[2순위] 날씨/환경 확인 (산책 가능?)
[3순위] 산책 시작 버튼 (행동!)
[4순위] 목표 설정 (선택사항)
```

#### Phase 2 (산책 중)

```
[1순위] 실시간 지도 (어디를 걷고 있는지)
[2순위] 거리 + 시간 (얼마나 걸었는지)
[3순위] 컨트롤 버튼 (일시정지/종료)
[4순위] 보조 정보 (칼로리, 속도)
[5순위] 카메라 (사진 촬영)
```

#### Phase 3 (산책 완료)

```
[1순위] 축하 + 통계 요약 (성취감)
[2순위] 뱃지 획득/진행률 (보상)
[3순위] 공유 (바이럴)
[4순위] 저장 (기록 보존)
[5순위] 광고 (수익화)
```

### 3.2 인터랙션 패턴

| 패턴 | 적용 위치 | 설명 |
|------|----------|------|
| Full Screen Overlay | Phase 2 | 탭 바 숨김, 전체화면 몰입 |
| Slide Up Modal | Phase 3 | 산책 완료 결과 바텀에서 올라옴 |
| Swipe Down to Dismiss | Phase 3 | 결과 화면 아래로 스와이프하여 닫기 |
| Long Press to Stop | Phase 2 종료 | 실수로 종료 방지 (길게 누르기) |
| Pinch Zoom | Phase 2 지도 | 지도 확대/축소 |
| Tap Map to Center | Phase 2 지도 | 지도 탭하면 현재 위치 재중심 |
| Haptic Milestone | Phase 2 | 1km 단위 도달 시 햅틱 진동 |
| Lottie Celebration | Phase 3 | 완료 시 축하 애니메이션 |
| Share Sheet | Phase 3 | 시스템 공유 시트 (iOS/Android) |

### 3.3 접근성 고려사항

| 항목 | 대응 |
|------|------|
| 색상 대비 | 지도 위 텍스트는 반투명 배경 카드 위에 표시 (가독성 확보) |
| 터치 영역 | 산책 중 컨트롤 버튼 최소 56x56px (장갑 착용 고려) |
| 스크린 리더 | "현재 2.34킬로미터, 32분 15초 경과" 실시간 업데이트 |
| 음성 안내 | 1km 단위 도달 시 음성 안내 (설정에서 ON/OFF) |
| 시각 장애 | 지도 없이 숫자만 표시하는 "간결 모드" 제공 |
| 잠금 화면 | 잠금 화면에서도 거리/시간 확인 가능 (iOS Dynamic Island / Android Notification) |
| 배터리 | 저전력 모드 시 지도 갱신 주기 줄이고 텍스트 데이터만 표시 |

### 3.4 백그라운드 트래킹 기술 명세

```javascript
// expo-location 백그라운드 설정
{
  accuracy: Location.Accuracy.BestForNavigation,  // 최고 정밀도
  distanceInterval: 5,        // 5m마다 좌표 기록
  deferredUpdatesInterval: 3000,  // 3초마다 배치 업데이트
  showsBackgroundLocationIndicator: true,  // iOS 상태바 표시
  foregroundService: {
    notificationTitle: '멍이랑 - 산책 중 🐾',
    notificationBody: '산책을 기록하고 있습니다',
    notificationColor: '#10B981'
  }
}
```

#### GPS 정밀도 보정

| 상황 | 대응 |
|------|------|
| GPS 튀기 (점프) | Kalman Filter 적용하여 비정상 좌표 필터링 |
| 터널/실내 진입 | 마지막 유효 좌표 유지, 재연결 시 보간 |
| 배터리 부족 | 기록 간격을 10m/5초로 완화 |
| 통화 중 | 백그라운드 트래킹 유지 |

#### 거리 계산

```
Haversine 공식으로 두 GPS 좌표 간 거리 계산
→ 각 포인트 간 거리 합산 = 총 산책 거리
→ 5m 미만 이동은 무시 (제자리 GPS 오차 필터링)
→ 시속 15km 이상 이동은 무시 (차량 탑승 필터링)
```

---

## 4. 와이어프레임 (ASCII)

### Phase 1: 산책 준비

```
┌──────────────────────────────┐
│  ← 뒤로                      │
├──────────────────────────────┤
│                              │
│  함께 산책할 반려동물          │
│  ┌──────┐ ┌──────┐ ┌──────┐│
│  │[🐕📷]│ │[🐱📷]│ │[🐕📷]││
│  │ 초코  │ │ 나비  │ │ 몽이  ││
│  │ ✅    │ │  ○   │ │  ○   ││
│  └──────┘ └──────┘ └──────┘│
│                              │
├──────────────────────────────┤
│  ☀️ 12°C  미세먼지 좋음 🟢     │
│  산책하기 좋은 날이에요!       │
│                              │
├──────────────────────────────┤
│  🎯 목표 설정 (선택)           │
│  [3km] [5km] [30분] [1시간]   │
│                              │
├──────────────────────────────┤
│                              │
│       ┌──────────────┐       │
│       │  🐾 산책 시작! │       │  ← 대형 CTA
│       └──────────────┘       │
│                              │
│  💡 지난번: 한강공원 2.3km     │
│                              │
└──────────────────────────────┘
```

### Phase 2: 산책 중

```
┌──────────────────────────────┐
│  🐾 산책 중         [🔒 잠금] │
├──────────────────────────────┤
│                              │
│  ┌──────────────────────┐    │
│  │                      │    │
│  │                      │    │
│  │   [네이버/카카오맵]    │    │
│  │                      │    │  ← 실시간 GPS 지도
│  │   ···경로 Polyline··· │    │     (화면 60%)
│  │                      │    │
│  │   📍현재위치           │    │
│  │                      │    │
│  │                      │    │
│  └──────────────────────┘    │
│                         [📷] │  ← 카메라 플로팅 버튼
│                              │
│  ─────────────────────────── │
│                              │
│        ⏱️ 00:32:15            │  ← 경과 시간
│        📏 2.34 km             │  ← 누적 거리 (Primary, 대형)
│                              │
│  🔥 128 kcal  🐕 초코  ⚡3.2   │  ← 보조 정보
│                              │
│  ─────────────────────────── │
│                              │
│  ┌──────────┐ ┌──────────┐  │
│  │  ⏸ 일시  │ │  ■ 종료  │  │  ← 컨트롤 버튼
│  │   정지   │ │  (길게)  │  │
│  └──────────┘ └──────────┘  │
│                              │
└──────────────────────────────┘
```

### Phase 3: 산책 완료

```
┌──────────────────────────────┐
│                              │
│     🎉 산책 완료!             │  ← 축하 메시지 + 애니메이션
│     초코와 함께한 산책 🐕      │
│                              │
│  ┌──────────────────────┐    │
│  │                      │    │
│  │  [전체 경로 지도]      │    │  ← 경로 맵 정적 이미지
│  │  📸 📸               │    │     (사진 핀 포함)
│  │                      │    │
│  └──────────────────────┘    │
│                              │
│  ┌──────┐ ┌──────┐          │
│  │📏거리 │ │⏱️시간 │          │
│  │2.34km│ │32:15 │          │  ← 통계 4칸 그리드
│  ├──────┤ ├──────┤          │
│  │🔥칼로리│ │⚡속도  │          │
│  │128   │ │4.3   │          │
│  └──────┘ └──────┘          │
│                              │
│  ── 🎉 새 뱃지 획득! ──       │
│  ┌──────┐                    │
│  │🏃✨  │ 5km 클럽            │  ← 뱃지 획득
│  │      │ 누적 5km 달성!      │
│  └──────┘                    │
│                              │
│  📊 뱃지 진행률               │
│  🔥 7일 연속  ████░░ 57%     │  ← 진행률 업데이트
│  🧭 탐험가    ██░░░░ 30%     │
│                              │
│  💬 "오늘도 좋은 산책이었어요"  │  ← 메모 입력 (선택)
│                              │
│  [카카오톡] [인스타] [이미지]   │  ← 공유 버튼
│                              │
│  ┌──────────────────────┐    │
│  │    [저장하기]          │    │  ← 메인 CTA
│  └──────────────────────┘    │
│                              │
│  ──── 광고 (네이티브) ────    │  ← 광고
│                              │
└──────────────────────────────┘
```

---

## 5. 엣지 케이스 처리

| 상황 | 대응 |
|------|------|
| GPS 권한 미부여 | 산책 시작 불가, 권한 요청 모달 표시 |
| 백그라운드 권한 미부여 | "항상 허용" 권한 필요 안내 |
| 네트워크 끊김 | 로컬 저장 후 네트워크 복구 시 동기화 |
| 배터리 5% 미만 | 경고 메시지 + 자동 저장 |
| 앱 강제 종료 | 마지막 데이터까지 로컬 저장, 재실행 시 복구 |
| 500m 미만 산책 | 기록 저장 안 함 (GPS 테스트 등 노이즈 필터) |
| 12시간 이상 산책 | 자동 종료 + 비정상 감지 알림 |
| 시속 15km 이상 | 차량 탑승 감지, 해당 구간 제외 |

---

## 6. 데이터 요구사항

| 데이터 | 저장소 | 설명 |
|--------|--------|------|
| GPS 좌표 배열 | 로컬 (AsyncStorage) → Supabase | 5m 간격 좌표 [lat, lng, timestamp] |
| 산책 메타데이터 | Supabase (walks 테이블) | 시작/종료 시간, 거리, 시간, 칼로리 |
| 경로 GeoJSON | Supabase (walks.route_geojson) | 전체 경로 폴리라인 |
| 산책 중 사진 | Supabase Storage | 사진 파일 + GPS 좌표 메타데이터 |
| 뱃지 진행률 | Supabase (badges 테이블) | 산책 완료 시 Edge Function으로 업데이트 |
| 날씨 데이터 | Supabase (walks.weather) | 산책 시작 시 기상 데이터 스냅샷 |

---

*작성일: 2026-02-12*
*버전: 2.0 (뱃지 시스템 통합 반영)*
