# 소셜 화면 (Tab 2) - 멍이랑 (withbowwow)

> 친구 기반 리더보드와 챌린지 2탭 구조.
> 친구 간 산책 거리 비교와 목표 챌린지로 동기부여를 제공한다.

---

## 1. 페이지 개요

### 1.1 목적

소셜 탭은 멍이랑 앱의 **친구 기반 동기부여 엔진**이다. 2개의 서브 탭(리더보드 / 챌린지)으로 구성된다. (1) 리더보드에서 친구들의 일별 산책 거리를 주간 캘린더와 함께 비교하고, (2) 챌린지에서 친구와 목표 거리를 함께 달성한다. 프로필 식별은 `강아지이름#nnnn` 형식을 사용한다.

### 1.2 핵심 사용자 니즈

| 니즈 | 설명 | 우선순위 |
|------|------|---------|
| 친구 산책 비교 | 친구들이 오늘/이번 주 얼마나 걸었는지 확인 | 최상위 |
| 산책 동기부여 | 친구가 산책한 것을 보고 나도 산책하고 싶어짐 | 최상위 |
| 챌린지 참여 | 친구와 함께 거리 목표를 달성하며 경쟁 | 상위 |
| 친구 찾기/추가 | #nnnn 코드 또는 강아지 이름으로 친구 검색 | 상위 |
| 기본 챌린지 참가 | 앱 제공 월간 챌린지에 참가하여 불특정 다수와 경쟁 | 중위 |

### 1.3 진입 경로

| 경로 | 빈도 | 컨텍스트 |
|------|------|---------|
| 하단 탭 바 "소셜" 탭 | 높음 | 일상적 리더보드 확인 |
| 푸시 알림 (챌린지 초대) | 높음 | "초코#1234님이 챌린지에 초대했어요!" 딥링크 |
| 홈 → 친구 활동 → "전체보기" | 중간 | 홈에서 친구 산책 확인 후 상세 진입 |

---

## 2. 화면 구성

### 공통 헤더 (App Header)

#### 콘텐츠 구성

| 요소 | 위치 | 상세 |
|------|------|------|
| 앱 로고 + 텍스트 | 좌측 | "멍이랑" 로고 (발바닥 아이콘 + 텍스트) |
| 알림 벨 아이콘 | 우측 #1 | 읽지 않은 알림 시 빨간 뱃지 표시 |
| 설정 아이콘 | 우측 #2 | 톱니바퀴 아이콘 → 설정 스크린 |

---

### 탭 네비게이션 (2탭 구조)

#### 콘텐츠 구성

| 요소 | 상세 |
|------|------|
| 형태 | 수평 탭 바 (헤더 하단 고정) |
| 탭 수 | 2개: 리더보드 / 챌린지 |
| 활성 상태 | Bold 텍스트 + 하단 인디케이터 라인 (Primary 컬러) |
| 비활성 상태 | Regular 텍스트 + 회색 |
| 전환 방식 | 탭 또는 좌우 스와이프 |

```
  [리더보드]    [챌린지]
  ━━━━━━━━━
  (활성)
```

---

### 리더보드 탭

#### 친구가 없을 때 (빈 상태)

| 요소 | 상세 |
|------|------|
| 위치 | 화면 중앙 |
| 안내 메시지 | "아직 친구가 없어요!\n친구를 추가하고 함께 산책해보세요" |
| 버튼 1 | "친구찾기" (Primary 버튼) |
| 버튼 2 | "친구요청" (Secondary 버튼) |

```
┌──────────────────────────────────────┐
│                                      │
│           🐾                         │
│   아직 친구가 없어요!                │
│   친구를 추가하고 함께 산책해보세요   │
│                                      │
│   [친구찾기]    [친구요청]           │
│                                      │
└──────────────────────────────────────┘
```

#### 친구가 있을 때 (3개 섹션)

##### (A) 주간 캘린더

| 요소 | 상세 |
|------|------|
| 형태 | 월~일 7칸 가로 캘린더 |
| 리셋 주기 | 매주 월요일 초기화 |
| 각 날짜 아이콘 | 강아지 발바닥 아이콘 (4개 구멍) |
| 색칠 규칙 | 산책한 친구 수만큼 구멍이 각기 다른 색으로 색칠 |
| 5명 이상 | 발바닥 전체가 무지개색으로 변경 |
| 날짜 클릭 | 해당 날짜의 리더보드 데이터로 전환 |
| 오늘 표시 | 테두리 강조 (Primary 컬러) |

```
┌──────────────────────────────────────┐
│  2월 3주차                            │
│                                      │
│  월   화   수   목   금   토   일    │
│  🐾   🐾   🐾   🐾   🐾   ○   ○   │
│ (4색) (3색) (5+) (2색) (1색)         │
│              ↑무지개                 │
│                                      │
│  ※ 날짜를 눌러 해당 날짜 기록 확인   │
└──────────────────────────────────────┘
```

##### (B) 리더보드 (해당 날짜 기준)

| 요소 | 상세 |
|------|------|
| 위치 | 주간 캘린더 하단 |
| 상단 섹션 | 뛴 사람 목록 (해당 날짜에 산책한 사람, 거리순 정렬) |
| 하단 섹션 | 안 뛴 사람 목록 (해당 날짜에 산책하지 않은 사람) |
| 구분 | 수평 구분선으로 분리 |
| 항목 형식 | `프로필아이콘 강아지이름#nnnn  0.0km` |
| 클릭 | 클릭 불가 (단순 나열) |
| km 기준 | 해당 날짜의 총 산책 거리 |
| 나 표시 | 내 항목은 배경색 하이라이트 |

```
┌──────────────────────────────────────┐
│  2월 19일 (수) 리더보드               │
│                                      │
│  ── 산책한 사람 ──                   │
│  🐕 초코#1234          4.2km        │  ← 거리순 정렬
│  🐩 달이#5678          3.8km        │
│  🐶 콩이#9012 (나)     2.1km        │  ← 내 항목 하이라이트
│  🐕 뽀삐#3456          1.5km        │
│                                      │
│  ────────────────────                │  ← 구분선
│                                      │
│  ── 아직 산책 전 ──                  │
│  🐾 몽이#7890          0.0km        │
│  🐾 초롱#2345          0.0km        │
│                                      │
└──────────────────────────────────────┘
```

##### (C) 하단 버튼

| 요소 | 상세 |
|------|------|
| 위치 | 리더보드 하단 |
| 버튼 1 | "친구찾기" → 친구 검색 모달 |
| 버튼 2 | "친구요청" → 받은 친구요청 목록 |

**친구찾기 검색:**
- `#nnnn` 코드로 정확 검색
- 강아지 이름(닉네임)으로 검색
- 검색 결과에서 "친구 추가" 버튼으로 요청 발송

```
┌──────────────────────────────────────┐
│  🔍 친구 검색                    [X] │
│                                      │
│  ┌──────────────────────────────┐   │
│  │ #코드 또는 강아지이름 검색     │   │
│  └──────────────────────────────┘   │
│                                      │
│  검색 결과:                          │
│  ┌──────────────────────────────┐   │
│  │ 🐕 초코#1234     [친구 추가]  │   │
│  │    골든리트리버                │   │
│  └──────────────────────────────┘   │
│  ┌──────────────────────────────┐   │
│  │ 🐶 초코#5555     [친구 추가]  │   │
│  │    비숑 프리제                 │   │
│  └──────────────────────────────┘   │
│                                      │
└──────────────────────────────────────┘
```

---

### 챌린지 탭

#### (A) 챌린지 만들기 섹션

| 요소 | 상세 |
|------|------|
| 위치 | 챌린지 탭 최상단 |
| 형태 | "챌린지 만들기" Primary 버튼 |
| 탭 액션 | 챌린지 생성 모달 열림 |

**챌린지 생성 모달:**

| 설정 항목 | 상세 |
|----------|------|
| 목표 거리 | 최소 1km 단위, 숫자 입력 |
| 기간 | 시작일 ~ 종료일 (날짜 피커) |
| 친구 초대 | 내 친구목록에서만 선택 (체크박스) |

```
┌──────────────────────────────────────┐
│  🏅 챌린지 만들기                [X] │
│                                      │
│  목표 거리                           │
│  ┌──────────────────────────────┐   │
│  │ 30 km                        │   │
│  └──────────────────────────────┘   │
│                                      │
│  기간                                │
│  시작일: [2026.02.20]               │
│  종료일: [2026.03.06]               │
│                                      │
│  친구 초대                           │
│  ☑ 초코#1234                        │
│  ☑ 달이#5678                        │
│  ☐ 뽀삐#3456                        │
│  ☐ 몽이#7890                        │
│                                      │
│  [챌린지 시작하기]                    │
│                                      │
└──────────────────────────────────────┘
```

- 초대받은 사람은 **알림 탭**에서 참가/거절 선택

#### (B) 내가 참가 중인 챌린지 (중간 위치)

| 요소 | 상세 |
|------|------|
| 위치 | 챌린지 만들기 버튼 하단 |
| 내용 | 내가 만든 + 내가 참가한 챌린지 리스트 |
| 카드 구성 | 챌린지명 + 목표거리 + 기간 + 참가자 순위 |
| 참가자 형식 | `강아지이름#nnnn 0.0km` (누적 km 기준 정렬) |
| 기본 챌린지 참가 시 | (B) 섹션으로 이동하여 표시 |

```
┌──────────────────────────────────────┐
│  🏅 내가 참가 중인 챌린지             │
│                                      │
│  ┌──────────────────────────────┐   │
│  │ 주간 30km 도전 (2/17~2/23)   │   │
│  │                              │   │
│  │ 1. 초코#1234      12.5km    │   │
│  │ 2. 콩이#9012 (나)  8.2km    │   │
│  │ 3. 달이#5678       6.1km    │   │
│  └──────────────────────────────┘   │
│                                      │
│  ┌──────────────────────────────┐   │
│  │ 활발한 산책러 (20km/월)      │   │  ← 기본 챌린지 참가
│  │                              │   │
│  │ 1. 뽀삐#3456      18.3km    │   │
│  │ 2. 콩이#9012 (나) 12.1km    │   │
│  │ ... 참가자 42명              │   │
│  └──────────────────────────────┘   │
│                                      │
└──────────────────────────────────────┘
```

#### (C) 기본 챌린지 리스트 (하단)

| 요소 | 상세 |
|------|------|
| 위치 | 챌린지 탭 하단 |
| 개수 | 10개 (앱 기본 제공) |
| 리셋 | 매월 1일 초기화 |
| 참가 방식 | "참가" 버튼으로 가입, 불특정 다수 참가 가능 |
| 참가 후 | (B) 섹션으로 이동 |
| 리더보드 | 각 챌린지 내 참가자 순위 표시 (`강아지이름#nnnn 0.0km`) |

**10개 기본 챌린지:**

| 번호 | 챌린지명 | 목표 거리 |
|------|---------|----------|
| 1 | 가벼운 산책 | 5km/월 |
| 2 | 매일 걷기 | 10km/월 |
| 3 | 활발한 산책러 | 20km/월 |
| 4 | 꾸준한 발걸음 | 30km/월 |
| 5 | 한강 한바퀴 | 42km/월 |
| 6 | 산책 매니아 | 50km/월 |
| 7 | 도시 탐험가 | 75km/월 |
| 8 | 마라토너의 길 | 100km/월 |
| 9 | 울트라 워커 | 150km/월 |
| 10 | 전설의 산책왕 | 200km/월 |

```
┌──────────────────────────────────────┐
│  🎯 이달의 챌린지 (매월 초기화)       │
│                                      │
│  ┌──────────────────────────────┐   │
│  │ 1. 가벼운 산책 (5km/월)      │   │
│  │    참가자 156명    [참가]    │   │
│  └──────────────────────────────┘   │
│  ┌──────────────────────────────┐   │
│  │ 2. 매일 걷기 (10km/월)       │   │
│  │    참가자 203명    [참가]    │   │
│  └──────────────────────────────┘   │
│  ┌──────────────────────────────┐   │
│  │ 3. 활발한 산책러 (20km/월)   │   │
│  │    참가자 89명     [참가중]  │   │  ← 이미 참가
│  └──────────────────────────────┘   │
│  ... (10개)                         │
│                                      │
└──────────────────────────────────────┘
```

---

## 3. UX 설계 의도

### 3.1 정보 계층 구조

```
[1순위 - 일상적 확인 (리더보드)]
  └── 주간 캘린더 (이번 주 활동 한눈에)
  └── 일별 리더보드 (오늘 친구가 얼마나 걸었나)
  └── 친구찾기/친구요청 (네트워크 확장)

[2순위 - 목표 지향 (챌린지)]
  └── 챌린지 만들기 (친구와 목표 설정)
  └── 참가 중인 챌린지 (진행 상황 추적)
  └── 기본 챌린지 (앱 제공 월간 목표)
```

핵심 원칙: **리더보드(일상 비교) → 챌린지(목표 경쟁)** 순서로 배치한다.

### 3.2 인터랙션 패턴

| 패턴 | 적용 위치 | 설명 |
|------|----------|------|
| Swipe Tab Navigation | 서브 탭 | 좌우 스와이프로 탭 전환 |
| Calendar Day Tap | 주간 캘린더 | 날짜 탭으로 해당일 리더보드 전환 |
| Bottom Sheet | 친구찾기, 챌린지 생성 | 바텀시트/모달로 추가 UI 표시 |
| Pull-to-Refresh | 전체 화면 | 데이터 새로고침 |
| Inline Button | 기본 챌린지 | 참가/참가중 인라인 토글 |

### 3.3 접근성 고려사항

| 항목 | 대응 |
|------|------|
| 색상 대비 | 발바닥 아이콘 색상과 배경 4.5:1 이상 |
| 터치 영역 | 캘린더 날짜, 버튼 최소 44x44px |
| 스크린 리더 | "월요일, 친구 4명 산책, 탭하여 리더보드 보기" |
| 무지개 표시 | 색상 외에 "5+" 텍스트 보조 표시 |

---

## 4. 와이어프레임 (ASCII)

```
┌──────────────────────────────┐
│  멍이랑              [알림] [설정]│  ← 공통 헤더
├──────────────────────────────┤
│  [리더보드]    [챌린지]       │  ← 서브 탭 (2개)
│  ━━━━━━━━━                   │
├──────────────────────────────┤
│                              │
│  2월 3주차                   │  ← 주간 캘린더
│  월  화  수  목  금  토  일  │
│  🐾  🐾  🐾  🐾  🐾  ○  ○ │
│ (4색)(3색)(무지개)(2색)(1색)  │
│                              │
│  ── 2/19(수) 산책한 사람 ──  │  ← 리더보드
│  🐕 초코#1234      4.2km    │
│  🐩 달이#5678      3.8km    │
│  🐶 콩이#9012(나)  2.1km    │  ← 하이라이트
│  🐕 뽀삐#3456      1.5km    │
│  ─────────────────────────  │  ← 구분선
│  ── 아직 산책 전 ──          │
│  🐾 몽이#7890      0.0km    │
│                              │
│  [친구찾기]    [친구요청]     │  ← 하단 버튼
│                              │
├──────────────────────────────┤
│  [홈] [소셜] [산책] [지도] [MY]│  ← 하단 탭 바
└──────────────────────────────┘
```

---

## 5. 안전 및 프라이버시

### 5.1 프라이버시 원칙

| 원칙 | 상세 |
|------|------|
| 반려동물 중심 프로필 | 견주 개인정보(실명, 사진, 성별, 나이) 비공개 |
| 식별 시스템 | `강아지이름#nnnn` 고유 코드로 식별 |
| 친구 기반 | 친구 관계에서만 리더보드/챌린지 가시 |
| 차단 기능 | 차단 시 리더보드/챌린지에서 완전 제외 |

---

## 6. 데이터 요구사항

| 데이터 | API/소스 | 갱신 주기 |
|--------|---------|----------|
| 친구 목록 | FastAPI → PostgreSQL (follows 테이블) | 친구 추가/삭제 시 |
| 일별 리더보드 | FastAPI → PostgreSQL (walks 집계, 날짜별) | 산책 완료 시 실시간 |
| 주간 캘린더 | FastAPI → PostgreSQL (walks 집계, 주간) | 산책 완료 시 |
| 챌린지 데이터 | FastAPI → PostgreSQL (챌린지 집계) | 산책 완료 시 |
| 기본 챌린지 | FastAPI → PostgreSQL (매월 리셋) | 월 1일 리셋 |
| 친구 검색 | FastAPI → PostgreSQL (users + pets, #nnnn 또는 이름 검색) | 실시간 |

---

*작성일: 2026-02-19*
*버전: 4.0 (친구 기반 리더보드+챌린지 2탭 구조로 전면 개편)*
